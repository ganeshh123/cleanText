<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Clean Text</title>
    <!-- https://electronjs.org/docs/tutorial/security#csp-meta-tag -->
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <link href="../css/material-icons.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="../css/materialize.css"  media="screen,projection"/>
    <link rel="stylesheet" href="../css/main.css" />
    <script>
      var $ = jQuery = require("jquery");
    </script>
    <script defer src="../js/main.js"></script>
    <script defer src="../js/editor.js"></script>
  </head>


  <!--App GUI-->
  <body>
    <div id="appContainer">

      <!--Control Panel-->
      <div id="controlPanel">
        <a class="waves-effect btn-flat panelButton" onclick="executeCommand('undo')"><i class="material-icons">undo</i></a>
        <a class="waves-effect btn-flat panelButton" onclick="executeCommand('redo')"><i class="material-icons">redo</i></a>
        <a class="waves-effect btn-flat modal-trigger panelButton" onclick = "saveSel()" href="#imageInsertModal"><i class="material-icons">insert_photo</i></a>        
        <a class="waves-effect btn-flat panelButton" onclick="executeCommand('bold')" style='margin-left: 20px;'><i class="material-icons">format_bold</i></a>
        <a class="waves-effect btn-flat panelButton" onclick="executeCommand('underline')"><i class="material-icons">format_underline</i></a>
        <a class="waves-effect btn-flat panelButton" onclick="executeCommand('italic')"><i class="material-icons">format_italic</i></a>
        <a class="waves-effect btn-flat panelButton" onclick="executeCommand('insertUnorderedList')"style='margin-left: 20px;'><i class="material-icons">format_list_bulleted</i></a>
        <a class="waves-effect btn-flat panelButton" onclick="executeCommand('insertOrderedList')"><i class="material-icons">format_list_numbered</i></a>
        <a class='formatSelectTrigger btn-flat panelButton' href='#' data-target='formatSelectBox'><i class="material-icons">format_size</i></a>
      </div>
      
      <!-- Editor -->
      <div id="editor" contenteditable="true">
        
      </div>
    </div>

  </body>


  <!-- Selection for Text Format -->
  <div id='formatSelectBox' class='dropdown-content'>
    <div id='formatSelect'>
      <a class="waves-effect btn-flat panelButton" onclick="executeCommand('formatBlock', '<h1>')">Large Title</a>
      <a class="waves-effect btn-flat panelButton" onclick="executeCommand('formatBlock', '<h2>')">Small Title</a>
      <a class="waves-effect btn-flat panelButton" onclick="executeCommand('formatBlock', '<h3>')">Subtitle</a>
      <a class="waves-effect btn-flat panelButton" onclick="executeCommand('formatBlock', '<p>')">Paragraph</a>
    </div>
  </div>

  <!-- Modal for Inserting Images -->
  <div id="imageInsertModal" class="modal">
    <div id="imageInsert" class="modal-content">
      <h2>Add Image</h2>

      <div id='image_insert_type_switch' class="switch">
        <label>
          URL
          <input type="checkbox">
          <span class="lever"></span>
          File
        </label>
      </div>

      <form id='image_insert_form'>
        <div class="row">
          <div class="input-field">
            <i class="material-icons prefix">link</i>
            <textarea id="image_url_input" class="materialize-textarea"></textarea>
            <label for="image_url_input">Image URL</label>
          </div>
        </div>
      </form>

      <a href="#!" onClick="insertImage()" class="modal-close waves-effect btn-flat">Done</a>
    </div>
  </div>

</html>